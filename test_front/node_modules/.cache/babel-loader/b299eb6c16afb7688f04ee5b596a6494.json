{"ast":null,"code":"import _defineProperty from \"/home/dev/Bureau/brunoFinalTest/test_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/dev/Bureau/brunoFinalTest/test_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dev/Bureau/brunoFinalTest/test_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dev/Bureau/brunoFinalTest/test_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dev/Bureau/brunoFinalTest/test_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dev/Bureau/brunoFinalTest/test_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dev/Bureau/brunoFinalTest/test_front/src/components/auth/Login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport './login.css';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var userData = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n\n      _this.props.loginUser(userData);\n\n      localStorage.setItem('rememberMe', userData.email);\n      console.log(\"zan n email zanu\" + userData.email);\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // If logged in and user navigates to Login page, should redirect them to dashboard\n      if (this.props.auth.isAuthenticated) {\n        this.props.history.push(\"/dashboard\");\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.auth.isAuthenticated) {\n        this.props.history.push(\"/dashboard\");\n      }\n\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var errors = this.state.errors;\n      return React.createElement(\"div\", {\n        class: \"container h-100 log bg bg-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"d-flex justify-content-center h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"user_card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"d-flex justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"L'atelier vous attends la!connectez-vous!\"))), React.createElement(\"div\", {\n        class: \"d-flex justify-content-center form_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input-group mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-envelope\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        class: \"fa fa-envelope\",\n        type: \"email\",\n        placeholder: \"Email\",\n        className: classnames(\"form-control form-control-lg\", {\n          \"is-invalid\": errors.email\n        }),\n        name: \"email\",\n        onChange: this.handleInputChange,\n        value: this.state.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-lock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        class: \"form-control input_pass\",\n        type: \"password\",\n        placeholder: \"Mot de passe\",\n        className: classnames(\"form-control form-control-lg\", {\n          \"is-invalid\": errors.password\n        }),\n        name: \"password\",\n        onChange: this.handleInputChange,\n        value: this.state.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"d-flex justify-content-center mt-3 login_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        name: \"button\",\n        class: \"btn login_btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"storng\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \" se connecter\")))))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginUser: loginUser\n})(Login);","map":{"version":3,"sources":["/home/dev/Bureau/brunoFinalTest/test_front/src/components/auth/Login.js"],"names":["React","Component","Link","PropTypes","connect","loginUser","classnames","Login","onChange","e","setState","target","id","value","onSubmit","preventDefault","userData","email","state","password","props","localStorage","setItem","console","log","errors","auth","isAuthenticated","history","push","nextProps","handleSubmit","handleInputChange","propTypes","func","isRequired","object","mapStateToProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,aAAP;;IACMC,K;;;;;AACJ,mBAAc;AAAA;;AAAA;;AACZ;;AADY,UA4BdC,QA5Bc,GA4BH,UAAAC,CAAC,EAAI;AACd,YAAKC,QAAL,qBAAiBD,CAAC,CAACE,MAAF,CAASC,EAA1B,EAA+BH,CAAC,CAACE,MAAF,CAASE,KAAxC;AACD,KA9Ba;;AAAA,UAgCdC,QAhCc,GAgCH,UAAAL,CAAC,EAAI;AACdA,MAAAA,CAAC,CAACM,cAAF;AAEA,UAAMC,QAAQ,GAAG;AACfC,QAAAA,KAAK,EAAE,MAAKC,KAAL,CAAWD,KADH;AAEfE,QAAAA,QAAQ,EAAE,MAAKD,KAAL,CAAWC;AAFN,OAAjB;;AAKA,YAAKC,KAAL,CAAWf,SAAX,CAAqBW,QAArB;;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCN,QAAQ,CAACC,KAA5C;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAmBR,QAAQ,CAACC,KAAxC;AACD,KA3Ca;;AAEZ,UAAKC,KAAL,GAAa;AACXD,MAAAA,KAAK,EAAE,EADI;AAEXE,MAAAA,QAAQ,EAAE,EAFC;AAGXM,MAAAA,MAAM,EAAE;AAHG,KAAb;AAFY;AAOb;;;;wCAEmB;AAClB;AACA,UAAI,KAAKL,KAAL,CAAWM,IAAX,CAAgBC,eAApB,EAAqC;AACnC,aAAKP,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD;AACF;;;8CAEyBC,S,EAAW;AACnC,UAAIA,SAAS,CAACJ,IAAV,CAAeC,eAAnB,EAAoC;AAClC,aAAKP,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD;;AAED,UAAIC,SAAS,CAACL,MAAd,EAAsB;AACpB,aAAKf,QAAL,CAAc;AACZe,UAAAA,MAAM,EAAEK,SAAS,CAACL;AADN,SAAd;AAGD;AACF;;;6BAmBQ;AAAA,UACCA,MADD,GACY,KAAKP,KADjB,CACCO,MADD;AAGP,aAEE;AAAK,QAAA,KAAK,EAAC,qCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGE;AAAK,QAAA,KAAK,EAAC,qCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,+BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADA,CADF,CADF,EAOE;AAAK,QAAA,KAAK,EAAC,8CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,QAAQ,EAAE,KAAKM,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,KAAK,EAAC,kBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,KAAK,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,EAME;AACE,QAAA,KAAK,EAAC,gBADR;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,WAAW,EAAC,OAHd;AAIE,QAAA,SAAS,EAAEzB,UAAU,CAAC,8BAAD,EAAiC;AACpD,wBAAcmB,MAAM,CAACR;AAD+B,SAAjC,CAJvB;AAOE,QAAA,IAAI,EAAC,OAPP;AAQE,QAAA,QAAQ,EAAE,KAAKe,iBARjB;AASE,QAAA,KAAK,EAAE,KAAKd,KAAL,CAAWD,KATpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF,EAmBE;AAAK,QAAA,KAAK,EAAC,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,KAAK,EAAC,kBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,KAAK,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,EAME;AACE,QAAA,KAAK,EAAC,yBADR;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,WAAW,EAAC,cAHd;AAIE,QAAA,SAAS,EAAEX,UAAU,CAAC,8BAAD,EAAiC;AACpD,wBAAcmB,MAAM,CAACN;AAD+B,SAAjC,CAJvB;AAOE,QAAA,IAAI,EAAC,UAPP;AAQE,QAAA,QAAQ,EAAE,KAAKa,iBARjB;AASE,QAAA,KAAK,EAAE,KAAKd,KAAL,CAAWC,QATpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CAnBF,EAsCE;AAAK,QAAA,KAAK,EAAC,oDAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,IAAI,EAAC,QAA3B;AAAoC,QAAA,KAAK,EAAC,eAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAN,CADD,CADF,CAtCF,CADF,CAPF,CADF,CAHF,CAFF;AA+DD;;;;EAhHiBlB,S;;AAmHpBM,KAAK,CAAC0B,SAAN,GAAkB;AAChB5B,EAAAA,SAAS,EAAEF,SAAS,CAAC+B,IAAV,CAAeC,UADV;AAEhBT,EAAAA,IAAI,EAAEvB,SAAS,CAACiC,MAAV,CAAiBD,UAFP;AAGhBV,EAAAA,MAAM,EAAEtB,SAAS,CAACiC,MAAV,CAAiBD;AAHT,CAAlB;;AAMA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAAnB,KAAK;AAAA,SAAK;AAChCQ,IAAAA,IAAI,EAAER,KAAK,CAACQ,IADoB;AAEhCD,IAAAA,MAAM,EAAEP,KAAK,CAACO;AAFkB,GAAL;AAAA,CAA7B;;AAKA,eAAerB,OAAO,CACpBiC,eADoB,EAEpB;AAAEhC,EAAAA,SAAS,EAATA;AAAF,CAFoB,CAAP,CAGbE,KAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport './login.css';\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const userData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    this.props.loginUser(userData);\n    localStorage.setItem('rememberMe', userData.email);\n    console.log(\"zan n email zanu\"+userData.email)\n  };\n\n  render() {\n    const { errors } = this.state;\n\n    return (\n      \n      <div class=\"container h-100 log bg bg-secondary\">\n      \n      \n        <div class=\"d-flex justify-content-center h-100\">\n          <div class=\"user_card\">\n            <div class=\"d-flex justify-content-center\">\n              <h2>\n              <strong>L'atelier vous attends la!connectez-vous!</strong>\n              </h2>\n              \n            </div>\n            <div class=\"d-flex justify-content-center form_container\">\n              <form onSubmit={this.handleSubmit}>\n                <div class=\"input-group mb-3\">\n                  <div class=\"input-group-append\">\n                    <span class=\"input-group-text\">\n                      <i class=\"fa fa-envelope\" />\n                    </span>\n                  </div>\n                  <input\n                    class=\"fa fa-envelope\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    className={classnames(\"form-control form-control-lg\", {\n                      \"is-invalid\": errors.email\n                    })}\n                    name=\"email\"\n                    onChange={this.handleInputChange}\n                    value={this.state.email}\n                  />\n                </div>\n                <div class=\"input-group mb-2\">\n                  <div class=\"input-group-append\">\n                    <span class=\"input-group-text\">\n                      <i class=\"fa fa-lock\" />\n                    </span>\n                  </div>\n                  <input\n                    class=\"form-control input_pass\"\n                    type=\"password\"\n                    placeholder=\"Mot de passe\"\n                    className={classnames(\"form-control form-control-lg\", {\n                      \"is-invalid\": errors.password\n                    })}\n                    name=\"password\"\n                    onChange={this.handleInputChange}\n                    value={this.state.password}\n                  />\n                </div>\n               \n                <div class=\"d-flex justify-content-center mt-3 login_container\">\n                  <button type=\"submit\" name=\"button\" class=\"btn login_btn\">\n                   <span><storng> se connecter</storng></span>\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(Login);\n"]},"metadata":{},"sourceType":"module"}